<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="A simple notes application">
        <title>Notes Application</title>
        <link rel="stylesheet" href="styles/authors-style.css" type="text/css" id="activestyle">
        <link rel="alternate stylesheet" href="styles/hsr-style.css" type="text/css">
        <script src="scripts/styleswitcher.js"></script>
    </head>
    <body>
        <header>
            <div class="pagetitle">
                <h1>Notes Application</h1>
                <p id="notecount"></p>
                <script id="notecounttemplate" type="text/x-handlebars-template">Displaying {{countDisplaying}} of {{countAll}} notes ({{countFinished}} notes are finished)</script>
            </div>
        </header>
        <main>
            <div id="toolbarcontainer">
                <button id="newbutton"><img class="buttonimage" src="images/new.png">New Note</button>
                <div>
                    <label>Sort by:</label>
                    <label><input type="radio" id="sortByDueDate" name="sortorder" value="sortByDueDate"><span>Due date</span></label>
                    <label><input type="radio" id="sortByCreationDate" name="sortorder" value="sortByCreationDate"><span>Creation date</span></label>
                    <label><input type="radio" id="sortByImportance" name="sortorder" value="sortByImportance"><span>Importance</span></label>
                </div>
                <label><input type="checkbox" id="filtershowfinished"><span>Show finished</span></label>
                <label>Style:
                    <select id="styleswitcher">
                        <option value="styles/authors-style.css">Author's Style</option>
                        <option value="styles/hsr-style.css">HSR Style</option>
                    </select>
                </label>
            </div>
            <div id="notecontent"></div>
            <script id="notetemplate" type="text/x-handlebars-template">
                {{#each notes}}
                    <article class="notecontainer">
                        <div class="notecolumnleft">
                            {{#if dueDate}}
                                <time class="noteduedateabsolute" datetime="{{formatDateHelper dueDate 'YYYY-MM-DD'}}">{{formatDateHelper dueDate 'DD.MM.YYYY'}}</time>
                                <time class="noteduedaterelative" datetime="{{formatDateHelper dueDate 'YYYY-MM-DD'}}">({{relativeDateHelper dueDate}})</time>
                            {{else}}
                                <label class="noteduedateabsolute">Anytime</label>
                            {{/if}}
                            <div>
                                {{#if finishDate}}
                                    <label><input type="checkbox" class="finishcheckbox" data-noteid="{{id}}" data-alreadyfinished="true" checked><span>Finished</span></label>
                                    <time class="notefinishdaterelative" datetime="{{formatDateHelper finishDate 'YYYY-MM-DD'}}">(on {{formatDateHelper finishDate 'DD.MM.YYYY'}})</time>
                                {{else}}
                                    <label><input type="checkbox" class="finishcheckbox" data-noteid="{{id}}" data-alreadyfinished="false"><span>Finish</span></label>
                                {{/if}}
                            </div>
                        </div>
                        <div class="notecolumnmiddle">
                            <details>
                                <summary class="notesummary">
                                    {{title}} {{{importanceHelper importance}}}
                                </summary>
                                <p>{{description}}</p>
                            </details>
                        </div>
                        <div class="notecolumnright">
                            <button class="editbutton" data-noteid="{{id}}"><img class="buttonimage" src="images/edit.png" data-noteid="{{id}}">Edit</button>
                            <button class="deletebutton color-red" data-noteid="{{id}}"><img class="buttonimage" src="images/delete.png" data-noteid="{{id}}">Delete</button>
                        </div>
                    </article>
                {{else}}
                    <article>No notes available to be displayed</article>
                {{/each}}
            </script>
        </main>
        <footer><a href="https://www.hsr.ch"><img src="images/hsr.png"></a></footer>
        <script src="libs/handlebars-v4.0.5.js"></script>
        <script src="libs/jquery-3.2.1.min.js"></script>
        <script src="libs/moment.js"></script>
        <script src="scripts/common.js"></script>
        <script src="scripts/sortoptions.js"></script>
        <script src="scripts/filteroptions.js"></script>
        <script src="scripts/helpers.js"></script>
        <script src="scripts/index.js"></script>
    </body>
</html>
